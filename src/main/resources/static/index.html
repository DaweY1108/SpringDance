<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Operations</title>
</head>
<body>
<h1>CRUD Operations</h1>

<h2>Párok</h2>
<button onclick="getAllPars()">Minden pár lehívása</button>
<div id="pars"></div>

<h2>Párok létrehozása</h2>
<form id="createParForm">
    <input type="number" id="parTancId" placeholder="Tanc ID" required>
    <input type="number" id="parFerfiId" placeholder="Ferfi ID" required>
    <input type="number" id="parNoId" placeholder="No ID" required>
    <button type="submit">Pár létrehozása</button>
</form>

<h2>Táncok</h2>
<button onclick="getAllTancs()">Minden táncos lehívása</button>
<div id="tancs"></div>

<h2>Tánc létrehozása</h2>
<form id="createTancForm">
    <input type="date" id="tancDatum" placeholder="Datum" required>
    <input type="text" id="tancNev" placeholder="Nev" required>
    <button type="submit">Tánc létrehozása</button>
</form>

<h2>Táncosok</h2>
<button onclick="getAllTags()">Minden táncos lehívása</button>
<div id="tags"></div>

<h2>Táncos hozzáadása</h2>
<form id="createTagForm">
    <input type="text" id="tagNev" placeholder="Nev" required>
    <input type="number" id="tagFerfi" placeholder="Ferfi" required>
    <input type="date" id="tagSzulido" placeholder="Szulido" required>
    <button type="submit">Emberke létrehozása</button>
</form>

<script>
    const apiUrl = 'http://localhost:25565/api';

    async function getAllPars() {
        const response = await fetch(`${apiUrl}/par`);
        const pars = await response.json();
        document.getElementById('pars').innerText = JSON.stringify(pars, null, 2);
    }

    document.getElementById('createParForm').addEventListener('submit', async (event) => {
        event.preventDefault();
        const par = {
            tancid: document.getElementById('parTancId').value,
            ferfiid: document.getElementById('parFerfiId').value,
            noid: document.getElementById('parNoId').value
        };
        const response = await fetch(`${apiUrl}/par/create`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(par)
        });
        const newPar = await response.json();
        alert(`Created Par: ${JSON.stringify(newPar, null, 2)}`);
    });

    async function getAllTancs() {
        const response = await fetch(`${apiUrl}/tanc`);
        const tancs = await response.json();
        document.getElementById('tancs').innerText = JSON.stringify(tancs, null, 2);
    }

    document.getElementById('createTancForm').addEventListener('submit', async (event) => {
        event.preventDefault();
        const tanc = {
            datum: document.getElementById('tancDatum').value,
            nev: document.getElementById('tancNev').value
        };
        const response = await fetch(`${apiUrl}/tanc/create`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(tanc)
        });
        const newTanc = await response.json();
        alert(`Created Tanc: ${JSON.stringify(newTanc, null, 2)}`);
    });

    async function getAllTags() {
        const response = await fetch(`${apiUrl}/tag`);
        const tags = await response.json();
        document.getElementById('tags').innerText = JSON.stringify(tags, null, 2);
    }

    document.getElementById('createTagForm').addEventListener('submit', async (event) => {
        event.preventDefault();
        const tag = {
            nev: document.getElementById('tagNev').value,
            ferfi: document.getElementById('tagFerfi').value,
            szulido: document.getElementById('tagSzulido').value
        };
        const response = await fetch(`${apiUrl}/tag/create`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(tag)
        });
        const newTag = await response.json();
        alert(`Created Tag: ${JSON.stringify(newTag, null, 2)}`);
    });
</script>
</body>
</html>